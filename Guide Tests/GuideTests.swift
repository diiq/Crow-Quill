import XCTest
@testable import Crow_Quill

class GuideTests: XCTestCase {
  lazy var guide = Guide()
  lazy var renderer = TestRenderer()

  func testDraw() {
    guide.draw(renderer)
    XCTAssertEqual(renderer.currentImage, [
      "color",
      "move: <-9663.93923832144, -1443.98987305357>",
      "line: <-9663.93923832144, -1443.98987305357>, <10063.9392383214, 1843.98987305357>",
      "stroke",

      "move: <-9672.15918768671, -1394.67017686197>",
      "line: <-9672.15918768671, -1394.67017686197>, <10055.7192889562, 1893.30956924518>",
      "line: <10055.7192889562, 1893.30956924518>, <10072.1591876867, 1794.67017686197>",
      "line: <10072.1591876867, 1794.67017686197>, <-9655.71928895617, -1493.30956924518>",
      "line: <-9655.71928895617, -1493.30956924518>, <-9672.15918768671, -1394.67017686197>",
      "stroke",

      "color",
      "move: <-9672.15918768671, -1394.67017686197>",
      "line: <-9672.15918768671, -1394.67017686197>, <10055.7192889562, 1893.30956924518>",
      "line: <10055.7192889562, 1893.30956924518>, <10072.1591876867, 1794.67017686197>",
      "line: <10072.1591876867, 1794.67017686197>, <-9655.71928895617, -1493.30956924518>",
      "line: <-9655.71928895617, -1493.30956924518>, <-9672.15918768671, -1394.67017686197>",
      "fill",

      "color",
      "move: <200.0, 200.0>",
      "line: <200.0, 200.0>, <187.670075952098, 273.979544287411>",
      "stroke",

      "circle: <183.560101269464, 298.639392383214>, 25.0",
      "stroke",

      "color",
      "circle: <183.560101269464, 298.639392383214>, 25.0",
      "fill",

      "color",
      "move: <800.0, 300.0>",
      "line: <800.0, 300.0>, <787.670075952098, 373.979544287411>",
      "stroke",

      "circle: <783.560101269464, 398.639392383214>, 25.0",
      "stroke",

      "color",
      "circle: <783.560101269464, 398.639392383214>, 25.0",
      "fill"
    ], "Draws the guide and its handles")
  }


}